<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¶ ç‹—ç‹—å¹´é½¡è¨ˆç®—å™¨</title>
    <style>
        /* CSS æ¨£å¼ */
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column; /* è®“å…§å®¹å‚ç›´æ’åˆ—ä»¥å®¹ç´ footer */
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            
            /* èƒŒæ™¯åœ–ç‰‡è¨­å®š */
            background-image: url('https://assets.petbacker.com/user-images/640/u_1881df70a6.61e990d871ecf.jpg');
            background-size: cover;      /* å¡«æ»¿ç•«é¢ */
            background-position: center; /* å±…ä¸­é¡¯ç¤º */
            background-repeat: no-repeat;
            background-attachment: fixed; /* èƒŒæ™¯å›ºå®šï¼Œä¸éš¨æ²å‹•ç§»å‹• */
        }

        /* ç‚ºäº†è®“æ–‡å­—çœ‹æ¸…æ¥šï¼ŒåŠ ä¸€å±¤åŠé€æ˜é®ç½©åœ¨èƒŒæ™¯ä¸Š (é¸æ“‡æ€§ï¼Œç›®å‰åªåŠ åœ¨å®¹å™¨ä¸Š) */
        
        .container {
            background-color: rgba(255, 255, 255, 0.92); /* 92% ä¸é€æ˜çš„ç™½è‰²èƒŒæ™¯ */
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            text-align: center;
            width: 90%;
            max-width: 400px;
            margin-top: 20px;
            backdrop-filter: blur(5px); /* èƒŒå¾Œç¨å¾®æ¨¡ç³Š */
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.6em;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            text-align: left;
        }

        input[type="date"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
            background: #fdfdfd;
        }

        button {
            background-color: #4CAF50; /* æ”¹ç”¨ç¶ è‰²ç³»ï¼Œè¼ƒç‚ºè‡ªç„¶ */
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            width: 100%;
            transition: transform 0.1s ease, background-color 0.3s;
        }

        button:hover {
            background-color: #45a049;
            transform: scale(1.02);
        }

        #result {
            margin-top: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: #fff;
            border-left: 5px solid #4CAF50;
            text-align: left;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            min-height: 60px;
            display: none; /* é è¨­éš±è— */
        }

        .age-output {
            margin: 8px 0;
            font-size: 1.1em;
            color: #333;
        }

        .age-output strong {
            color: #e91e63;
            font-size: 1.3em;
        }

        /* æ–‡ç»ä¾†æºå€åŸŸæ¨£å¼ */
        .sources {
            margin-top: 30px;
            padding: 15px;
            width: 90%;
            max-width: 600px;
            background-color: rgba(0, 0, 0, 0.7); /* æ·±è‰²åŠé€æ˜èƒŒæ™¯ */
            color: #fff;
            border-radius: 10px;
            font-size: 0.85em;
            text-align: center;
            line-height: 1.6;
        }

        .sources h3 {
            margin: 0 0 10px 0;
            font-size: 1em;
            color: #ddd;
            border-bottom: 1px solid #555;
            display: inline-block;
            padding-bottom: 5px;
        }

        .sources ul {
            list-style: none;
            padding: 0;
            margin: 0;
            text-align: left;
            display: inline-block;
        }
        
        .sources li {
            margin-bottom: 5px;
        }

        .sources a {
            color: #81c784;
            text-decoration: none;
        }
        .sources a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ¶ ç‹—ç‹—å¹´é½¡è¨ˆç®—å™¨</h1>

    <label for="birthDate">è«‹è¼¸å…¥ç‹—ç‹—çš„å‡ºç”Ÿæ—¥æœŸï¼š</label>
    <input type="date" id="birthDate">

    <button onclick="calculateAge()">é–‹å§‹æ›ç®—</button>

    <div id="result">
        </div>
</div>

<div class="sources">
    <h3>ğŸ“š æ›ç®—å…¬å¼åƒè€ƒæ–‡ç»</h3>
    <ul>
        <li>
            1. <strong>AVMA (ç¾åœ‹ç¸é†«å­¸æœƒ)</strong>: <br>
            "Senior pets" - æ™®éèªå®šç¬¬ä¸€å¹´ç´„ç­‰æ–¼ 15 æ­²ï¼Œç¬¬äºŒå¹´ç´„ç­‰æ–¼ 9 æ­²ã€‚
        </li>
        <li>
            2. <strong>AKC (ç¾åœ‹çŠ¬æ¥­ä¿±æ¨‚éƒ¨)</strong>: <br>
            "How to Calculate Dog Years to Human Years" - 
            å°å‹/ä¸­å‹çŠ¬æˆå¹´å¾Œï¼Œå¹³å‡æ¯å¹´ç´„å¢åŠ  4-5 æ­²äººé¡å¹´é½¡ã€‚
        </li>
        <li>
            <span style="color:#aaa; font-size:0.9em;">*è¨»ï¼šæœ¬ç¨‹å¼æ¡é€šç”¨è¿‘ä¼¼å…¬å¼ï¼šç¬¬1å¹´=15, ç¬¬2å¹´=+9, ç¬¬3å¹´èµ·=+4/å¹´ã€‚</span>
        </li>
    </ul>
</div>

<script>
    // JavaScript é‚è¼¯
    function calculateAge() {
        const birthDateInput = document.getElementById('birthDate').value;
        const resultDiv = document.getElementById('result');

        if (!birthDateInput) {
            alert("è«‹å…ˆé¸æ“‡ç‹—ç‹—çš„å‡ºç”Ÿæ—¥æœŸå–”ï¼");
            return;
        }

        const birthDate = new Date(birthDateInput);
        const today = new Date();

        if (isNaN(birthDate) || birthDate > today) {
            alert("æ—¥æœŸç„¡æ•ˆæˆ–ä¸èƒ½é¸æ“‡æœªä¾†æ—¥æœŸï¼");
            return;
        }

        // --- 1. è¨ˆç®—å¯¦éš›ç‹—é½¡ ---
        let dogYears = today.getFullYear() - birthDate.getFullYear();
        let dogMonths = today.getMonth() - birthDate.getMonth();
        let dogDays = today.getDate() - birthDate.getDate();

        if (dogDays < 0) {
            dogMonths--;
            const lastMonth = new Date(today.getFullYear(), today.getMonth(), 0);
            dogDays += lastMonth.getDate();
        }
        if (dogMonths < 0) {
            dogYears--;
            dogMonths += 12;
        }

        // --- 2. æ›ç®—äººé¡å¹´é½¡ (åŸºæ–¼ AVMA & AKC é€šå‰‡) ---
        // è¦å‰‡ï¼š
        // 1æ­² = 15æ­²
        // 2æ­² = 15 + 9 = 24æ­²
        // 3æ­²ä»¥ä¸Š = 24 + (N-2)*4 ~ 5 (æ­¤è™•æ¡ +4 ä¿å®ˆä¼°è¨ˆ)
        
        let humanAge = 0;

        if (dogYears === 0) {
            // æœªæ»¿ä¸€æ­²ï¼šæŒ‰æ¯”ä¾‹è¨ˆç®— (ç°¡å–®ç·šæ€§)
            // 12å€‹æœˆ = 15æ­² => 1å€‹æœˆ = 1.25æ­²
            const totalMonths = dogMonths + (dogDays/30);
            humanAge = totalMonths * 1.25;
        } else if (dogYears === 1) {
            humanAge = 15;
            // åŠ ä¸Šç¬¬äºŒå¹´çš„é€²åº¦ (ç¬¬äºŒå¹´å…¨é•·9æ­²ï¼Œå¹³å‡ä¸€å€‹æœˆ0.75æ­²)
            humanAge += (dogMonths * 0.75);
        } else if (dogYears === 2) {
            humanAge = 24;
            // åŠ ä¸Šç¬¬ä¸‰å¹´å¾Œçš„é€²åº¦ (æ¯å¹´ç´„4-5æ­²ï¼Œé€™è£¡ç”¨4æ­²ç®—ï¼Œå¹³å‡ä¸€å€‹æœˆ0.33æ­²)
            humanAge += (dogMonths * 0.33);
        } else {
            // 2æ­²ä»¥ä¸Š
            humanAge = 24 + (dogYears - 2) * 4; 
            humanAge += (dogMonths * 0.33);
        }

        // --- 3. é¡¯ç¤ºçµæœ ---
        // çµ„åˆç‹—é½¡å­—ä¸²
        let dogAgeText = '';
        if (dogYears > 0) dogAgeText += `${dogYears} æ­² `;
        if (dogMonths > 0) dogAgeText += `${dogMonths} å€‹æœˆ`;
        if (dogYears === 0 && dogMonths === 0) dogAgeText += `${dogDays} å¤©`;

        // é¡¯ç¤º
        resultDiv.style.display = "block";
        resultDiv.innerHTML = `
            <div class="age-output">ğŸ• ç‹—ç‹—å¯¦éš›å¹´é½¡ï¼š <br><strong>${dogAgeText}</strong></div>
            <hr style="border: 0; border-top: 1px dashed #ccc; margin: 10px 0;">
            <div class="age-output">ğŸ§‘ å°ç…§äººé¡å¹´é½¡ï¼š <br><strong>ç´„ ${Math.floor(humanAge)} æ­²</strong> <span style="font-size:0.8em; color:#666;">(åˆ ${Math.round((humanAge % 1)*12)} å€‹æœˆ)</span></div>
        `;
    }
</script>

</body>
</html>
